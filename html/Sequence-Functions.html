<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright (C) 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>6.1 シーケンス (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="6.1 シーケンス (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="6.1 シーケンス (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Emacs Lisp">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Sequences-Arrays-Vectors.html#Sequences-Arrays-Vectors" rel="up" title="6 シーケンス、配列、ベクター">
<link href="Arrays.html#Arrays" rel="next" title="6.2 配列">
<link href="Sequences-Arrays-Vectors.html#Sequences-Arrays-Vectors" rel="prev" title="6 シーケンス、配列、ベクター">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="Sequence-Functions"></span><div class="header">
<p>
Next: <a href="Arrays.html#Arrays" accesskey="n" rel="next">Arrays</a>, Up: <a href="Sequences-Arrays-Vectors.html#Sequences-Arrays-Vectors" accesskey="u" rel="up">Sequences Arrays Vectors</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="sikensu"></span><h3 class="section">6.1 シーケンス</h3>

<p>このセクションでは、任意の種類のシーケンスを許す関数を説明します。
</p>
<dl>
<dt id="index-sequencep">Function: <strong>sequencep</strong> <em>object</em></dt>
<dd><p>この関数は、<var>object</var>がリスト、ベクター、文字列、ブールベクター、文字テーブルの場合は<code>t</code>、それ以外は<code>nil</code>をreturnします。
</p></dd></dl>

<dl>
<dt id="index-length">Function: <strong>length</strong> <em>sequence</em></dt>
<dd><span id="index-string-length"></span>
<span id="index-list-length"></span>
<span id="index-vector-length"></span>
<span id="index-sequence-length"></span>
<span id="index-char_002dtable-length"></span>
<span id="Definition-of-length"></span><p>この関数は、<var>sequence</var>内の要素の数をreturnします。<var>sequence</var>がドットリストの場合、<code>wrong-type-argument</code>エラーがシグナルされます。循環リストは無限ループを引き起こします。文字テーブルでは、Emacsの最大文字コードより、常に1大きい値がreturnされます。
</p>
<p>関連する関数<code>safe-length</code>については、<a href="List-Elements.html#Definition-of-safe_002dlength">Definition of safe-length</a>を参照してください。
</p>
<div class="example">
<pre class="example">(length '(1 2 3))
    &rArr; 3
</pre><pre class="example">(length ())
    &rArr; 0
</pre><pre class="example">(length &quot;foobar&quot;)
    &rArr; 6
</pre><pre class="example">(length [1 2 3])
    &rArr; 3
</pre><pre class="example">(length (make-bool-vector 5 nil))
    &rArr; 5
</pre></div>
</dd></dl>

<p><a href="Text-Representations.html#Text-Representations">テキストの表現方法</a>の<code>string-bytes</code>も参照してください。
</p>
<p>ディスプレー上での文字列の幅を計算する必要がある場合、文字数だけを数えて各文字のディスプレー幅を計算しない<code>length</code>ではなく、<code>string-width</code>
(<a href="Size-of-Displayed-Text.html#Size-of-Displayed-Text">表示されるテキストのサイズ</a>を参照してください)を使用するべきです。
</p>
<dl>
<dt id="index-elt">Function: <strong>elt</strong> <em>sequence index</em></dt>
<dd><span id="Definition-of-elt"></span><span id="index-elements-of-sequences"></span>
<p>この関数は、<var>index</var>によりインデックスづけされた、<var>sequence</var>の要素をreturnします。<var>index</var>の値として妥当なのは、0から<var>sequence</var>の長さより1小さい数までの範囲の整数です。<var>sequence</var>がリストの場合、範囲外の値は<code>nth</code>と同じように振る舞います。<a href="List-Elements.html#Definition-of-nth">Definition of nth</a>を参照してください。それ以外の場合、範囲外の値は<code>args-out-of-range</code>エラーを引き起こします。
</p>
<div class="example">
<pre class="example">(elt [1 2 3 4] 2)
     &rArr; 3
</pre><pre class="example">(elt '(1 2 3 4) 2)
     &rArr; 3
</pre><pre class="example">;; <span class="roman"><code>elt</code>がどの文字をreturnするか明確にするために<code>string</code>を使用。</span>
(string (elt &quot;1234&quot; 2))
     &rArr; &quot;3&quot;
</pre><pre class="example">(elt [1 2 3 4] 4)
     error&rarr; Args out of range: [1 2 3 4], 4
</pre><pre class="example">(elt [1 2 3 4] -1)
     error&rarr; Args out of range: [1 2 3 4], -1
</pre></div>

<p>この関数は、<code>aref</code> (<a href="Array-Functions.html#Array-Functions">配列を操作する関数</a>い)と<code>nth</code> (<a href="List-Elements.html#Definition-of-nth">Definition of nth</a>を参照してください)を一般化したものです。
</p></dd></dl>

<dl>
<dt id="index-copy_002dsequence">Function: <strong>copy-sequence</strong> <em>sequence</em></dt>
<dd><span id="index-copying-sequences"></span>
<p>この関数は、<var>sequence</var>のコピーをreturnします。コピーは元のシーケンスと同じ型で、同じ要素が同じ順番でもちます。
</p>
<p>コピーに新しい要素を格納するのは、元の<var>sequence</var>に影響を与えず、その逆も真です。しかし新しいシーケンス内の要素がコピーされたものでない場合は、元のシーケンスの要素と同一(<code>eq</code>)になります。したがって、コピーされたシーケンスを通じて見つかった要素を変更すると、この変更は元のシーケンスでも見ることができます。
</p>
<p>シーケンスがテキストプロパティーをともなう文字列の場合、コピー内のプロパティーリスト自身もコピーとなり、元のシーケンスのプロパティーリストと共有はされません。しかし、プロパティーリストの実際の値は共有されます。<a href="Text-Properties.html#Text-Properties">テキストのプロパティ</a>を参照してください。
</p>
<p>この関数は、ドットリストでは機能しません。循環リストのコピーは、無限ループを起こすでしょう。
</p>
<p>シーケンスをコピーする別の方法は、<a href="Building-Lists.html#Building-Lists">コンスセルおよびリストの構築</a>の<code>append</code>、<a href="Creating-Strings.html#Creating-Strings">文字列の作成</a>の<code>concat</code>、<a href="Vector-Functions.html#Vector-Functions">ベクターのための関数</a>の<code>vconcat</code>も参照してください。
</p>
<div class="example">
<pre class="example">(setq bar '(1 2))
     &rArr; (1 2)
</pre><pre class="example">(setq x (vector 'foo bar))
     &rArr; [foo (1 2)]
</pre><pre class="example">(setq y (copy-sequence x))
     &rArr; [foo (1 2)]
</pre><pre class="example">

</pre><pre class="example">(eq x y)
     &rArr; nil
</pre><pre class="example">(equal x y)
     &rArr; t
</pre><pre class="example">(eq (elt x 1) (elt y 1))
     &rArr; t
</pre><pre class="example">

</pre><pre class="example">;; <span class="roman">一方のシーケンスの要素を置き換え。</span>
(aset x 0 'quux)
x &rArr; [quux (1 2)]
y &rArr; [foo (1 2)]
</pre><pre class="example">

</pre><pre class="example">;; <span class="roman">共有された要素の内部を変更。</span>
(setcar (aref x 1) 69)
x &rArr; [quux (69 2)]
y &rArr; [foo (69 2)]
</pre></div>
</dd></dl>

<dl>
<dt id="index-reverse">Function: <strong>reverse</strong> <em>sequence</em></dt>
<dd><span id="index-string-reverse"></span>
<span id="index-list-reverse"></span>
<span id="index-vector-reverse"></span>
<span id="index-sequence-reverse"></span>
<p>This function creates a new sequence whose elements are the elements of
<var>sequence</var>, but in reverse order.  The original argument <var>sequence</var>
is <em>not</em> altered.  Note that char-tables cannot be reversed.
</p>
<div class="example">
<pre class="example">(setq x '(1 2 3 4))
     &rArr; (1 2 3 4)
</pre><pre class="example">(reverse x)
     &rArr; (4 3 2 1)
x
     &rArr; (1 2 3 4)
</pre><pre class="example">(setq x [1 2 3 4])
     &rArr; [1 2 3 4]
</pre><pre class="example">(reverse x)
     &rArr; [4 3 2 1]
x
     &rArr; [1 2 3 4]
</pre><pre class="example">(setq x &quot;xyzzy&quot;)
     &rArr; &quot;xyzzy&quot;
</pre><pre class="example">(reverse x)
     &rArr; &quot;yzzyx&quot;
x
     &rArr; &quot;xyzzy&quot;
</pre></div>
</dd></dl>

<dl>
<dt id="index-nreverse">Function: <strong>nreverse</strong> <em>sequence</em></dt>
<dd><span id="index-reversing-a-string"></span>
<span id="index-reversing-a-list"></span>
<span id="index-reversing-a-vector"></span>
<p>This function reverses the order of the elements of <var>sequence</var>.  Unlike
<code>reverse</code> the original <var>sequence</var> may be modified.
</p>
<p>For example:
</p>
<div class="example">
<pre class="example">(setq x '(a b c))
     &rArr; (a b c)
</pre><pre class="example">x
     &rArr; (a b c)
(nreverse x)
     &rArr; (c b a)
</pre><pre class="example">;; <span class="roman">The cons cell that was first is now last.</span>
x
     &rArr; (a)
</pre></div>

<p>To avoid confusion, we usually store the result of <code>nreverse</code> back in
the same variable which held the original list:
</p>
<div class="example">
<pre class="example">(setq x (nreverse x))
</pre></div>

<p>Here is the <code>nreverse</code> of our favorite example, <code>(a b c)</code>,
presented graphically:
</p>
<div class="example">
<pre class="example"><span class="roman">Original list head:</span>                       <span class="roman">Reversed list:</span>
 -------------        -------------        ------------
| car  | cdr  |      | car  | cdr  |      | car | cdr  |
|   a  |  nil |&lt;--   |   b  |   o  |&lt;--   |   c |   o  |
|      |      |   |  |      |   |  |   |  |     |   |  |
 -------------    |   --------- | -    |   -------- | -
                  |             |      |            |
                   -------------        ------------
</pre></div>

<p>For the vector, it is even simpler because you don&rsquo;t need setq:
</p>
<div class="example">
<pre class="example">(setq x [1 2 3 4])
     &rArr; [1 2 3 4]
(nreverse x)
     &rArr; [4 3 2 1]
x
     &rArr; [4 3 2 1]
</pre></div>

<p>Note that unlike <code>reverse</code>, this function doesn&rsquo;t work with strings.
Although you can alter string data by using <code>aset</code>, it is strongly
encouraged to treat strings as immutable.
</p>
</dd></dl>

<dl>
<dt id="index-sort">Function: <strong>sort</strong> <em>sequence predicate</em></dt>
<dd><span id="index-stable-sort"></span>
<span id="index-sorting-lists"></span>
<span id="index-sorting-vectors"></span>
<p>This function sorts <var>sequence</var> stably.  Note that this function doesn&rsquo;t
work for all sequences; it may be used only for lists and vectors.  If
<var>sequence</var> is a list, it is modified destructively.  This functions
returns the sorted <var>sequence</var> and compares elements using
<var>predicate</var>.  A stable sort is one in which elements with equal sort
keys maintain their relative order before and after the sort.  Stability is
important when successive sorts are used to order elements according to
different criteria.
</p>
<p>The argument <var>predicate</var> must be a function that accepts two arguments.
It is called with two elements of <var>sequence</var>.  To get an increasing
order sort, the <var>predicate</var> should return non-<code>nil</code> if the first
element is &ldquo;less&rdquo; than the second, or <code>nil</code> if not.
</p>
<p>The comparison function <var>predicate</var> must give reliable results for any
given pair of arguments, at least within a single call to <code>sort</code>.  It
must be <em>antisymmetric</em>; that is, if <var>a</var> is less than <var>b</var>,
<var>b</var> must not be less than <var>a</var>.  It must be <em>transitive</em>&mdash;that
is, if <var>a</var> is less than <var>b</var>, and <var>b</var> is less than <var>c</var>, then
<var>a</var> must be less than <var>c</var>.  If you use a comparison function which
does not meet these requirements, the result of <code>sort</code> is
unpredictable.
</p>
<p>The destructive aspect of <code>sort</code> for lists is that it rearranges the
cons cells forming <var>sequence</var> by changing <small>CDR</small>s.  A nondestructive
sort function would create new cons cells to store the elements in their
sorted order.  If you wish to make a sorted copy without destroying the
original, copy it first with <code>copy-sequence</code> and then sort.
</p>
<p>Sorting does not change the <small>CAR</small>s of the cons cells in <var>sequence</var>;
the cons cell that originally contained the element <code>a</code> in
<var>sequence</var> still has <code>a</code> in its <small>CAR</small> after sorting, but it now
appears in a different position in the list due to the change of <small>CDR</small>s.
For example:
</p>
<div class="example">
<pre class="example">(setq nums '(1 3 2 6 5 4 0))
     &rArr; (1 3 2 6 5 4 0)
</pre><pre class="example">(sort nums '&lt;)
     &rArr; (0 1 2 3 4 5 6)
</pre><pre class="example">nums
     &rArr; (1 2 3 4 5 6)
</pre></div>

<p><strong>Warning</strong>: Note that the list in <code>nums</code> no longer contains 0;
this is the same cons cell that it was before, but it is no longer the first
one in the list.  Don&rsquo;t assume a variable that formerly held the argument
now holds the entire sorted list! Instead, save the result of <code>sort</code>
and use that.  Most often we store the result back into the variable that
held the original list:
</p>
<div class="example">
<pre class="example">(setq nums (sort nums '&lt;))
</pre></div>

<p>For the better understanding of what stable sort is, consider the following
vector example.  After sorting, all items whose <code>car</code> is 8 are grouped
at the beginning of <code>vector</code>, but their relative order is preserved.
All items whose <code>car</code> is 9 are grouped at the end of <code>vector</code>, but
their relative order is also preserved:
</p>
<div class="example">
<pre class="example">(setq
  vector
  (vector '(8 . &quot;xxx&quot;) '(9 . &quot;aaa&quot;) '(8 . &quot;bbb&quot;) '(9 . &quot;zzz&quot;)
          '(9 . &quot;ppp&quot;) '(8 . &quot;ttt&quot;) '(8 . &quot;eee&quot;) '(9 . &quot;fff&quot;)))
     &rArr; [(8 . &quot;xxx&quot;) (9 . &quot;aaa&quot;) (8 . &quot;bbb&quot;) (9 . &quot;zzz&quot;)
         (9 . &quot;ppp&quot;) (8 . &quot;ttt&quot;) (8 . &quot;eee&quot;) (9 . &quot;fff&quot;)]
</pre><pre class="example">(sort vector (lambda (x y) (&lt; (car x) (car y))))
     &rArr; [(8 . &quot;xxx&quot;) (8 . &quot;bbb&quot;) (8 . &quot;ttt&quot;) (8 . &quot;eee&quot;)
         (9 . &quot;aaa&quot;) (9 . &quot;zzz&quot;) (9 . &quot;ppp&quot;) (9 . &quot;fff&quot;)]
</pre></div>

<p>See section <a href="Sorting.html#Sorting">テキストのソート</a>, for more functions that perform sorting.  See
<code>documentation</code> in <a href="Accessing-Documentation.html#Accessing-Documentation">ドキュメント文字列へのアクセス</a>, for a useful example
of <code>sort</code>.
</p></dd></dl>

<span id="index-sequence-functions-in-seq"></span>
<span id="index-seq-library"></span>
<p>The <samp>seq.el</samp> library provides the following additional sequence
manipulation macros and functions, prefixed with <code>seq-</code>.  To use them,
you must first load the <samp>seq</samp> library.
</p>
<p>All functions defined in this library are free of side-effects; i.e., they
do not modify any sequence (list, vector, or string) that you pass as an
argument.  Unless otherwise stated, the result is a sequence of the same
type as the input.  For those functions that take a predicate, this should
be a function of one argument.
</p>
<p>The <samp>seq.el</samp> library can be extended to work with additional types of
sequential data-structures.  For that purpose, all functions are defined
using <code>cl-defgeneric</code>.  See section <a href="Generic-Functions.html#Generic-Functions">Generic Functions</a>, for more details
about using <code>cl-defgeneric</code> for adding extensions.
</p>
<dl>
<dt id="index-seq_002delt">Function: <strong>seq-elt</strong> <em>sequence index</em></dt>
<dd><p>This function returns the element of <var>sequence</var> at the specified
<var>index</var>, which is an integer whose valid value range is zero to one less
than the length of <var>sequence</var>.  For out-of-range values on built-in
sequence types, <code>seq-elt</code> behaves like <code>elt</code>.  For the details,
see <a href="#Definition-of-elt">Definition of elt</a>.
</p>
<div class="example">
<pre class="example">(seq-elt [1 2 3 4] 2)
&rArr; 3
</pre></div>

<p><code>seq-elt</code> returns places settable using <code>setf</code> (see section <a href="Setting-Generalized-Variables.html#Setting-Generalized-Variables"><code>setf</code>マクロ</a>).
</p>
<div class="example">
<pre class="example">(setq vec [1 2 3 4])
(setf (seq-elt vec 2) 5)
vec
&rArr; [1 2 5 4]
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dlength">Function: <strong>seq-length</strong> <em>sequence</em></dt>
<dd><p>This function returns the number of elements in <var>sequence</var>.  For
built-in sequence types, <code>seq-length</code> behaves like <code>length</code>.
See <a href="#Definition-of-length">Definition of length</a>.
</p></dd></dl>

<dl>
<dt id="index-seqp">Function: <strong>seqp</strong> <em>sequence</em></dt>
<dd><p>This function returns non-<code>nil</code> if <var>sequence</var> is a sequence (a list
or array), or any additional type of sequence defined via <samp>seq.el</samp>
generic functions.
</p>
<div class="example">
<pre class="example">(seqp [1 2])
&rArr; t
</pre><pre class="example">(seqp 2)
&rArr; nil
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002ddrop">Function: <strong>seq-drop</strong> <em>sequence n</em></dt>
<dd><p>This function returns all but the first <var>n</var> (an integer)  elements of
<var>sequence</var>.  If <var>n</var> is negative or zero, the result is
<var>sequence</var>.
</p>
<div class="example">
<pre class="example">(seq-drop [1 2 3 4 5 6] 3)
&rArr; [4 5 6]
</pre><pre class="example">(seq-drop &quot;hello world&quot; -4)
&rArr; &quot;hello world&quot;
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dtake">Function: <strong>seq-take</strong> <em>sequence n</em></dt>
<dd><p>This function returns the first <var>n</var> (an integer) elements of
<var>sequence</var>.  If <var>n</var> is negative or zero, the result is <code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-take '(1 2 3 4) 3)
&rArr; (1 2 3)
</pre><pre class="example">(seq-take [1 2 3 4] 0)
&rArr; []
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dtake_002dwhile">Function: <strong>seq-take-while</strong> <em>predicate sequence</em></dt>
<dd><p>This function returns the members of <var>sequence</var> in order, stopping
before the first one for which <var>predicate</var> returns <code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-take-while (lambda (elt) (&gt; elt 0)) '(1 2 3 -1 -2))
&rArr; (1 2 3)
</pre><pre class="example">(seq-take-while (lambda (elt) (&gt; elt 0)) [-1 4 6])
&rArr; []
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002ddrop_002dwhile">Function: <strong>seq-drop-while</strong> <em>predicate sequence</em></dt>
<dd><p>This function returns the members of <var>sequence</var> in order, starting from
the first one for which <var>predicate</var> returns <code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-drop-while (lambda (elt) (&gt; elt 0)) '(1 2 3 -1 -2))
&rArr; (-1 -2)
</pre><pre class="example">(seq-drop-while (lambda (elt) (&lt; elt 0)) [1 4 6])
&rArr; [1 4 6]
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002ddo">Function: <strong>seq-do</strong> <em>function sequence</em></dt>
<dd><p>This function applies <var>function</var> to each element of <var>sequence</var> in
turn (presumably for side effects), and returns <var>sequence</var>.
</p></dd></dl>

<dl>
<dt id="index-seq_002dmap">Function: <strong>seq-map</strong> <em>function sequence</em></dt>
<dd><p>This function returns the result of applying <var>function</var> to each element
of <var>sequence</var>.  The returned value is a list.
</p>
<div class="example">
<pre class="example">(seq-map #'1+ '(2 4 6))
&rArr; (3 5 7)
</pre><pre class="example">(seq-map #'symbol-name [foo bar])
&rArr; (&quot;foo&quot; &quot;bar&quot;)
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dmapn">Function: <strong>seq-mapn</strong> <em>function &amp;rest sequences</em></dt>
<dd><p>This function returns the result of applying <var>function</var> to each element
of <var>sequences</var>.  The arity (see section <a href="What-Is-a-Function.html#What-Is-a-Function">sub-arity</a>) of
<var>function</var> must match the number of sequences.  Mapping stops at the end
of the shortest sequence, and the returned value is a list.
</p>
<div class="example">
<pre class="example">(seq-mapn #'+ '(2 4 6) '(20 40 60))
&rArr; (22 44 66)
</pre><pre class="example">(seq-mapn #'concat '(&quot;moskito&quot; &quot;bite&quot;) [&quot;bee&quot; &quot;sting&quot;])
&rArr; (&quot;moskitobee&quot; &quot;bitesting&quot;)
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dfilter">Function: <strong>seq-filter</strong> <em>predicate sequence</em></dt>
<dd><span id="index-filtering-sequences"></span>
<p>This function returns a list of all the elements in <var>sequence</var> for which
<var>predicate</var> returns non-<code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-filter (lambda (elt) (&gt; elt 0)) [1 -1 3 -3 5])
&rArr; (1 3 5)
</pre><pre class="example">(seq-filter (lambda (elt) (&gt; elt 0)) '(-1 -3 -5))
&rArr; nil
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dremove">Function: <strong>seq-remove</strong> <em>predicate sequence</em></dt>
<dd><span id="index-removing-from-sequences"></span>
<p>This function returns a list of all the elements in <var>sequence</var> for which
<var>predicate</var> returns <code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-remove (lambda (elt) (&gt; elt 0)) [1 -1 3 -3 5])
&rArr; (-1 -3)
</pre><pre class="example">(seq-remove (lambda (elt) (&lt; elt 0)) '(-1 -3 -5))
&rArr; nil
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dreduce">Function: <strong>seq-reduce</strong> <em>function sequence initial-value</em></dt>
<dd><span id="index-reducing-sequences"></span>
<p>This function returns the result of calling <var>function</var> with
<var>initial-value</var> and the first element of <var>sequence</var>, then calling
<var>function</var> with that result and the second element of <var>sequence</var>,
then with that result and the third element of <var>sequence</var>, etc.
<var>function</var> should be a function of two arguments.  If <var>sequence</var> is
empty, this returns <var>initial-value</var> without calling <var>function</var>.
</p>
<div class="example">
<pre class="example">(seq-reduce #'+ [1 2 3 4] 0)
&rArr; 10
</pre><pre class="example">(seq-reduce #'+ '(1 2 3 4) 5)
&rArr; 15
</pre><pre class="example">(seq-reduce #'+ '() 3)
&rArr; 3
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dsome">Function: <strong>seq-some</strong> <em>predicate sequence</em></dt>
<dd><p>This function returns the first non-<code>nil</code> value returned by applying
<var>predicate</var> to each element of <var>sequence</var> in turn.
</p>
<div class="example">
<pre class="example">(seq-some #'numberp [&quot;abc&quot; 1 nil])
&rArr; t
</pre><pre class="example">(seq-some #'numberp [&quot;abc&quot; &quot;def&quot;])
&rArr; nil
</pre><pre class="example">(seq-some #'null [&quot;abc&quot; 1 nil])
&rArr; t
</pre><pre class="example">(seq-some #'1+ [2 4 6])
&rArr; 3
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dfind">Function: <strong>seq-find</strong> <em>predicate sequence &amp;optional default</em></dt>
<dd><p>This function returns the first element in <var>sequence</var> for which
<var>predicate</var> returns non-<code>nil</code>.  If no element matches
<var>predicate</var>, the function returns <var>default</var>.
</p>
<p>Note that this function has an ambiguity if the found element is identical
to <var>default</var>, as in that case it cannot be known whether an element was
found or not.
</p>
<div class="example">
<pre class="example">(seq-find #'numberp [&quot;abc&quot; 1 nil])
&rArr; 1
</pre><pre class="example">(seq-find #'numberp [&quot;abc&quot; &quot;def&quot;])
&rArr; nil
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002devery_002dp">Function: <strong>seq-every-p</strong> <em>predicate sequence</em></dt>
<dd><p>This function returns non-<code>nil</code> if applying <var>predicate</var> to every
element of <var>sequence</var> returns non-<code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-every-p #'numberp [2 4 6])
&rArr; t
</pre><pre class="example">(seq-some #'numberp [2 4 &quot;6&quot;])
&rArr; nil
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dempty_002dp">Function: <strong>seq-empty-p</strong> <em>sequence</em></dt>
<dd><p>This function returns non-<code>nil</code> if <var>sequence</var> is empty.
</p>
<div class="example">
<pre class="example">(seq-empty-p &quot;not empty&quot;)
&rArr; nil
</pre><pre class="example">(seq-empty-p &quot;&quot;)
&rArr; t
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dcount">Function: <strong>seq-count</strong> <em>predicate sequence</em></dt>
<dd><p>This function returns the number of elements in <var>sequence</var> for which
<var>predicate</var> returns non-<code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-count (lambda (elt) (&gt; elt 0)) [-1 2 0 3 -2])
&rArr; 2
</pre></div>
</dd></dl>

<span id="index-sorting-sequences"></span>
<dl>
<dt id="index-seq_002dsort">Function: <strong>seq-sort</strong> <em>function sequence</em></dt>
<dd><p>This function returns a copy of <var>sequence</var> that is sorted according to
<var>function</var>, a function of two arguments that returns non-<code>nil</code> if
the first argument should sort before the second.
</p></dd></dl>

<dl>
<dt id="index-seq_002dcontains">Function: <strong>seq-contains</strong> <em>sequence elt &amp;optional function</em></dt>
<dd><p>This function returns the first element in <var>sequence</var> that is equal to
<var>elt</var>.  If the optional argument <var>function</var> is non-<code>nil</code>, it is
a function of two arguments to use instead of the default <code>equal</code>.
</p>
<div class="example">
<pre class="example">(seq-contains '(symbol1 symbol2) 'symbol1)
&rArr; symbol1
</pre><pre class="example">(seq-contains '(symbol1 symbol2) 'symbol3)
&rArr; nil
</pre></div>

</dd></dl>

<dl>
<dt id="index-seq_002dposition">Function: <strong>seq-position</strong> <em>sequence elt &amp;optional function</em></dt>
<dd><p>This function returns the index of the first element in <var>sequence</var> that
is equal to <var>elt</var>.  If the optional argument <var>function</var> is
non-<code>nil</code>, it is a function of two arguments to use instead of the
default <code>equal</code>.
</p>
<div class="example">
<pre class="example">(seq-position '(a b c) 'b)
&rArr; 1
</pre><pre class="example">(seq-position '(a b c) 'd)
&rArr; nil
</pre></div>
</dd></dl>


<dl>
<dt id="index-seq_002duniq">Function: <strong>seq-uniq</strong> <em>sequence &amp;optional function</em></dt>
<dd><p>This function returns a list of the elements of <var>sequence</var> with
duplicates removed.  If the optional argument <var>function</var> is
non-<code>nil</code>, it is a function of two arguments to use instead of the
default <code>equal</code>.
</p>
<div class="example">
<pre class="example">(seq-uniq '(1 2 2 1 3))
&rArr; (1 2 3)
</pre><pre class="example">(seq-uniq '(1 2 2.0 1.0) #'=)
&rArr; [3 4]
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dsubseq">Function: <strong>seq-subseq</strong> <em>sequence start &amp;optional end</em></dt>
<dd><p>This function returns a subset of <var>sequence</var> from <var>start</var> to
<var>end</var>, both integers (<var>end</var> defaults to the last element).  If
<var>start</var> or <var>end</var> is negative, it counts from the end of
<var>sequence</var>.
</p>
<div class="example">
<pre class="example">(seq-subseq '(1 2 3 4 5) 1)
&rArr; (2 3 4 5)
</pre><pre class="example">(seq-subseq '[1 2 3 4 5] 1 3)
&rArr; [2 3]
</pre><pre class="example">(seq-subseq '[1 2 3 4 5] -3 -1)
&rArr; [3 4]
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dconcatenate">Function: <strong>seq-concatenate</strong> <em>type &amp;rest sequences</em></dt>
<dd><p>This function returns a sequence of type <var>type</var> made of the
concatenation of <var>sequences</var>.  <var>type</var> may be: <code>vector</code>,
<code>list</code> or <code>string</code>.
</p>
<div class="example">
<pre class="example">(seq-concatenate 'list '(1 2) '(3 4) [5 6])
&rArr; (1 2 3 5 6)
</pre><pre class="example">(seq-concatenate 'string &quot;Hello &quot; &quot;world&quot;)
&rArr; &quot;Hello world&quot;
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dmapcat">Function: <strong>seq-mapcat</strong> <em>function sequence &amp;optional type</em></dt>
<dd><p>This function returns the result of applying <code>seq-concatenate</code> to the
result of applying <var>function</var> to each element of <var>sequence</var>.  The
result is a sequence of type <var>type</var>, or a list if <var>type</var> is
<code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-mapcat #'seq-reverse '((3 2 1) (6 5 4)))
&rArr; (1 2 3 4 5 6)
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dpartition">Function: <strong>seq-partition</strong> <em>sequence n</em></dt>
<dd><p>This function returns a list of the elements of <var>sequence</var> grouped into
sub-sequences of length <var>n</var>.  The last sequence may contain less
elements than <var>n</var>.  <var>n</var> must be an integer.  If <var>n</var> is a
negative integer or 0, the return value is <code>nil</code>.
</p>
<div class="example">
<pre class="example">(seq-partition '(0 1 2 3 4 5 6 7) 3)
&rArr; ((0 1 2) (3 4 5) (6 7))
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dintersection">Function: <strong>seq-intersection</strong> <em>sequence1 sequence2 &amp;optional function</em></dt>
<dd><p>This function returns a list of the elements that appear both in
<var>sequence1</var> and <var>sequence2</var>.  If the optional argument
<var>function</var> is non-<code>nil</code>, it is a function of two arguments to use
to compare elements instead of the default <code>equal</code>.
</p>
<div class="example">
<pre class="example">(seq-intersection [2 3 4 5] [1 3 5 6 7])
&rArr; (3 5)
</pre></div>
</dd></dl>


<dl>
<dt id="index-seq_002ddifference">Function: <strong>seq-difference</strong> <em>sequence1 sequence2 &amp;optional function</em></dt>
<dd><p>This function returns a list of the elements that appear in <var>sequence1</var>
but not in <var>sequence2</var>.  If the optional argument <var>function</var> is
non-<code>nil</code>, it is a function of two arguments to use to compare elements
instead of the default <code>equal</code>.
</p>
<div class="example">
<pre class="example">(seq-difference '(2 3 4 5) [1 3 5 6 7])
&rArr; (2 4)
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dgroup_002dby">Function: <strong>seq-group-by</strong> <em>function sequence</em></dt>
<dd><p>This function separates the elements of <var>sequence</var> into an alist whose
keys are the result of applying <var>function</var> to each element of
<var>sequence</var>.  Keys are compared using <code>equal</code>.
</p>
<div class="example">
<pre class="example">(seq-group-by #'integerp '(1 2.1 3 2 3.2))
&rArr; ((t 1 3 2) (nil 2.1 3.2))
</pre><pre class="example">(seq-group-by #'car '((a 1) (b 2) (a 3) (c 4)))
&rArr; ((b (b 2)) (a (a 1) (a 3)) (c (c 4)))
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dinto">Function: <strong>seq-into</strong> <em>sequence type</em></dt>
<dd><p>This function converts the sequence <var>sequence</var> into a sequence of type
<var>type</var>.  <var>type</var> can be one of the following symbols: <code>vector</code>,
<code>string</code> or <code>list</code>.
</p>
<div class="example">
<pre class="example">(seq-into [1 2 3] 'list)
&rArr; (1 2 3)
</pre><pre class="example">(seq-into nil 'vector)
&rArr; []
</pre><pre class="example">(seq-into &quot;hello&quot; 'vector)
&rArr; [104 101 108 108 111]
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dmin">Function: <strong>seq-min</strong> <em>sequence</em></dt>
<dd><p>This function returns the smallest element of <var>sequence</var>.  The elements
of <var>sequence</var> must be numbers or markers (see section <a href="Markers.html#Markers">マーカー</a>).
</p>
<div class="example">
<pre class="example">(seq-min [3 1 2])
&rArr; 1
</pre><pre class="example">(seq-min &quot;Hello&quot;)
&rArr; 72
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002dmax">Function: <strong>seq-max</strong> <em>sequence</em></dt>
<dd><p>This function returns the largest element of <var>sequence</var>.  The elements
of <var>sequence</var> must be numbers or markers.
</p>
<div class="example">
<pre class="example">(seq-max [1 3 2])
&rArr; 3
</pre><pre class="example">(seq-max &quot;Hello&quot;)
&rArr; 111
</pre></div>
</dd></dl>

<dl>
<dt id="index-seq_002ddoseq">Macro: <strong>seq-doseq</strong> <em>(var sequence) body&hellip;</em></dt>
<dd><span id="index-sequence-iteration"></span>
<p>This macro is like <code>dolist</code> (see section <a href="Iteration.html#Iteration">dolist</a>), except that
<var>sequence</var> can be a list, vector or string.  This is primarily useful
for side-effects.
</p></dd></dl>

<dl>
<dt id="index-seq_002dlet">Macro: <strong>seq-let</strong> <em>arguments sequence body&hellip;</em></dt>
<dd><span id="index-sequence-destructuring"></span>
<p>This macro binds the variables defined in <var>arguments</var> to the elements of
<var>sequence</var>.  <var>arguments</var> can themselves include sequences, allowing
for nested destructuring.
</p>
<p>The <var>arguments</var> sequence can also include the <code>&amp;rest</code> marker
followed by a variable name to be bound to the rest of <code>sequence</code>.
</p>
<div class="example">
<pre class="example">(seq-let [first second] [1 2 3 4]
  (list first second))
&rArr; (1 2)
</pre><pre class="example">(seq-let (_ a _ b) '(1 2 3 4)
  (list a b))
&rArr; (2 4)
</pre><pre class="example">(seq-let [a [b [c]]] [1 [2 [3]]]
  (list a b c))
&rArr; (1 2 3)
</pre><pre class="example">(seq-let [a b &amp;rest others] [1 2 3 4]
  others)
</pre><pre class="example">&rArr; [3 4]
</pre></div>
</dd></dl>


<hr>
<div class="header">
<p>
Next: <a href="Arrays.html#Arrays" accesskey="n" rel="next">Arrays</a>, Up: <a href="Sequences-Arrays-Vectors.html#Sequences-Arrays-Vectors" accesskey="u" rel="up">Sequences Arrays Vectors</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
